[main]
testTopDir = BENCHMARK_PATH
webTopDir  = WEBROOT_PATH

useCmake = 1
isSuperbuild = 0

sourceTree = C_Src

# suiteName is the name prepended to all output directories
suiteName = MFIX-Exa

COMP = g++

purge_output = 1

MAKE = make
numMakeJobs = 4

# MPIcommand should use the placeholders:
#   @host@ to indicate where to put the hostname to run on
#   @nprocs@ to indicate where to put the number of processors
#   @command@ to indicate where to put the command to run
#
# only tests with useMPI = 1 will run in parallel
# nprocs is problem dependent and specified in the individual problem
# sections.

#MPIcommand = mpiexec -host @host@ -n @nprocs@ @command@
MPIcommand = mpiexec -n @nprocs@ @command@
MPIhost =

reportActiveTestsOnly = 1

# Add "GO UP" link at the top of the web page?
goUpLink = 1

# email
sendEmailWhenFail = 0
emailTo =
emailBody = Check CCSE tests completed

[AMReX]
dir = AMREX_PATH
branch = development
cmakeSetupOpts = -DCMAKE_CXX_COMPILER_LAUNCHER=ccache -DAMReX_PLOTFILE_TOOLS=ON -DAMReX_TESTING=ON -DAMReX_ASSERTIONS=ON -DAMReX_EB=ON -DAMReX_PARTICLES=ON -DAMReX_LINEAR_SOLVERS=ON -DAMReX_MPI=ON -DAMReX_OMP=ON -DAMReX_GPU_BACKEND=NONE

[source]
dir = MFIXEXA_PATH
branch = develop
cmakeSetupOpts = -DCMAKE_CXX_COMPILER_LAUNCHER=ccache -DAMReX_TESTING=ON  -DAMReX_ASSERTIONS=ON  -DMFIX_MPI=ON  -DMFIX_OMP=ON  -DMFIX_GPU_BACKEND=NONE


# individual problems follow

[BENCH01-Size0001]
buildDir = benchmarks/01-HCS/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=25  mfix.fixed_dt=0 amr.plt_regtest=1 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist" mfix.cfl=0.5


[BENCH01-Size0001-Godunov]
buildDir = benchmarks/01-HCS/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=25  mfix.fixed_dt=0 amr.plt_regtest=1 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist" mfix.dt_max=6.0e-5


[BENCH01-Size0001-Godunov-advect-momentum]
buildDir = benchmarks/01-HCS/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=25 mfix.fixed_dt=0 amr.plt_regtest=1 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist" mfix.dt_max=6.0e-5 mfix.advect_momentum=true


[BENCH01-Size0001-advect-momentum]
buildDir = benchmarks/01-HCS/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=25  mfix.fixed_dt=0 amr.plt_regtest=1 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist" mfix.advect_momentum=true


[BENCH01-replicate]
buildDir = benchmarks/01-HCS/Size0001
inputFile = inputs.repl
aux1File = particle_input.dat
link1File= replicate_chk00000
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
particleTypes = particles
runtime_params = mfix.fixed_dt=0 amr.plt_regtest=1


[BENCH01-restart]
buildDir = benchmarks/01-HCS/Size0008
inputFile = inputs.rt
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 1
restartFileNum = 5
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params =  amr.plt_regtest=0


[BENCH02-Size0001]
buildDir = benchmarks/02-settling/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plt_regtest=1 mfix.max_step=50 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist" mfix.dt_max=1.6e-5


[BENCH02-Size0001-Godunov]
buildDir = benchmarks/02-settling/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plt_regtest=1 mfix.max_step=50 mfix.dt_max=2.7e-5


[BENCH02-Size0001-no-fluid]
buildDir = benchmarks/02-settling/Size0001
inputFile = inputs.no_fluid
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plt_regtest=0


[BENCH02-Size0001-walls]
buildDir = benchmarks/02-settling/Size0001
inputFile = inputs.box
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plt_regtest=1 mfix.max_step=50 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH02-Size0001-walls-no-fluid]
buildDir = benchmarks/02-settling/Size0001
inputFile = inputs.box.no_fluid
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plt_regtest=0


[BENCH03-Size0001]
buildDir = benchmarks/03-fluidbed/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=30 amr.plt_regtest=1 mfix.max_step=30 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH03-Size0001-Godunov]
buildDir = benchmarks/03-fluidbed/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=30 amr.plt_regtest=1 mfix.max_step=30 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist" mfix.cfl=0.5


[BENCH04-Size0001]
buildDir = benchmarks/04-square-riser/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=1000 amr.plt_regtest=1 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH04-Size0001-Godunov]
buildDir = benchmarks/04-square-riser/Size0001
inputFile = inputs
aux1File = particle_input.dat
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=1000 amr.plt_regtest=1 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist" mfix.cfl=0.5


[BENCH05-Size0008]
buildDir = benchmarks/05-cyl-fluidbed/Size0008
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=50 amr.plt_regtest=1 mfix.max_step=50 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH05-Size0008-Godunov]
buildDir = benchmarks/05-cyl-fluidbed/Size0008
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=50 amr.plt_regtest=1 mfix.max_step=50 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist" mfix.dt_max=9.6e-5


[BENCH05-Size0008-coveredgrid]
buildDir = benchmarks/05-cyl-fluidbed/Size0008
inputFile = inputs.rt.covered_grid
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 3
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=50 amr.plt_regtest=1 mfix.max_step=50 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH05-Size0008_medium]
buildDir = benchmarks/05-cyl-fluidbed/Size0008_medium
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=10 mfix.max_step=10 amr.plt_regtest=1 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH05-Size0008_medium-Godunov]
buildDir = benchmarks/05-cyl-fluidbed/Size0008_medium
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=10 mfix.max_step=10 amr.plt_regtest=1 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist"


[BENCH05-Size0008_wide]
buildDir = benchmarks/05-cyl-fluidbed/Size0008_wide
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=30 amr.plt_regtest=1 mfix.max_step=30 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH05-Size0008_wide-Chemistry]
buildDir = benchmarks/05-cyl-fluidbed/Size0008_wide
inputFile = inputs_chem.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=30 amr.plt_regtest=1 mfix.max_step=10


[BENCH05-Size0008_wide-Godunov]
buildDir = benchmarks/05-cyl-fluidbed/Size0008_wide
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=30 amr.plt_regtest=1 mfix.max_step=30 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist"


[BENCH05-Size0008_wide-OMP]
buildDir = benchmarks/05-cyl-fluidbed/Size0008_wide
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 2
useOMP = 1
numthreads = 2
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=30 amr.plt_regtest=1 mfix.max_step=30 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH06-Size0008]
buildDir = benchmarks/06-cyl-riser/Size0008
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=50 amr.plt_regtest=1 mfix.max_step=50 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH06-Size0008-Godunov]
buildDir = benchmarks/06-cyl-riser/Size0008
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=50 amr.plt_regtest=1 mfix.max_step=50 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist"


[BENCH08-PIC-Patil]
buildDir = benchmarks/08-pic/patil
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=20 amr.plt_regtest=1 mfix.max_step=20 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[BENCH08-PIC-Patil-Godunov]
buildDir = benchmarks/08-pic/patil
inputFile = inputs.rt
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=20 amr.plt_regtest=1 mfix.max_step=20 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist"


[BENCH08-PIC-Patil-restart]
buildDir = benchmarks/08-pic/patil
inputFile = inputs.rt
link1File= chk00005
target = mfix
dim = 3
restartTest = 0
restartFileNum = 5
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params =  mfix.restart="chk00005" amr.plt_regtest=0


[BENCH09-refinement]
buildDir = benchmarks/09-refinement/
inputFile = inputs
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
doVis = 0
selfTest = 0
compareParticles = 0
particleTypes = particles
runtime_params = mfix.max_step=1


[DEM01-x_single]
buildDir = tests/DEM01-x
inputFile = inputs
aux1File = particle_input.dat
target = mfix_DEM01-x
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=5000 amr.plt_regtest=0


[DEM03-z_single]
buildDir = tests/DEM03-z
inputFile = inputs
aux1File = particle_input.dat
target = mfix_DEM03-z
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=10 amr.plt_regtest=0


[DEM04-x_single]
buildDir = tests/DEM04-x
inputFile = inputs
aux1File = particle_input.dat
target = mfix_DEM04-x
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plt_regtest=0 amr.plot_int=200


[DEM06-z_multiple]
buildDir = tests/DEM06-z
inputFile = inputs_multiple
aux1File = particle_input.dat
target = mfix_DEM06-z
dim = 3
restartTest = 0
useMPI = 1
numprocs = 4
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=350 amr.plt_regtest=0 amr.check_input=0 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[TracerAdv]
buildDir = tutorials/tracer
inputFile = inputs
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=10 mfix.plt_gradp_g=1 mfix.plt_X_g=1 mfix.plt_D_g=1 mfix.max_step=10 mfix.advection_type="MOL" mfix.redistribution_type="FluxRedist"


[TracerAdv-Godunov]
buildDir = tutorials/tracer
inputFile = inputs
target = mfix
dim = 3
restartTest = 0
useMPI = 1
numprocs = 1
useOMP = 1
numthreads = 1
compileTest = 0
doVis = 0
selfTest = 0
compareParticles = 1
particleTypes = particles
runtime_params = amr.plot_int=10 mfix.plt_gradp_g=1 mfix.plt_X_g=1 mfix.plt_D_g=1 mfix.max_step=10 mfix.advection_type="Godunov" mfix.redistribution_type="StateRedist"
